*,
*:before,
*:after {
  box-sizing: border-box;
}
* {
  margin: 0;
  padding: 0;
  font: inherit;
}
ul,
li {
  list-style: none;
}
img,
picture,
svg,
video {
  display: block;
  max-width: 100%;
}
input,
select,
textarea {
  background-color: transparent;
  outline: none;
}
button {
  cursor: pointer;
  background-color: transparent;
  outline: none;
  border: 0;
}
a {
  text-decoration: none;
  color: unset;
}
:root {
  --textClr: #333;
  --fadeClr: #f8f8f8;
  --fadeClr500: #eeece8;
  --mainClr: #981913;
  --subClr: #262a53;
  --mainClr500: #58b1f01d;
}
body {
  font-weight: 400;
  line-height: 1;
  font-size: 1.3rem;
  font-family: "Roboto", sans-serif;
  color: var(--textClr);
  /* background-image: linear-gradient(-225deg, #ffffff 0%, #fffcd73b 100%); */
  overflow-y: auto;
  height: 100vh;
  overflow-x: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: black;
}
::-webkit-scrollbar {
  width: 5px;
}

/* Track */
::-webkit-scrollbar-track {
  background: #f1f1f1;
}

/* Handle */
::-webkit-scrollbar-thumb {
  background: #ffaa00b2;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background: #555555c7;
}
html {
  font-size: 62.5%; /* default 10px */
  scroll-behavior: smooth;
  overflow: hidden;
}
.main {
  width: 100vw;
  max-width: 50rem;
  background: url("./assets/imgs/Japanese\ \(6\).png");
  background-size: 100%;
  height: 100vh;
  position: relative;
}

.logo {
  display: flex;
  justify-content: center;
  align-items: center;
}
.logo img {
  width: 10rem;
  margin-top: 4rem;
}
.main_voucher,
.main_voucher_check,
.main_info,
.main_welcome,
.main_spin {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}
.main_info,
.main_voucher_check,
.main_voucher {
  background-color: rgb(255, 255, 255);
  width: 95%;
  height: 50rem;
  top: 45%;
  line-height: 1.6;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 15px;
  z-index: 99;
}
.main_voucher_check {
  z-index: 9999;
}
.main_voucher_check .text,
.main_voucher .text {
  width: 100%;
  padding-left: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 1rem;
}
.main_voucher_check .text {
  padding-left: 0;
  width: 90%;
}
#startBtn {
  z-index: 9;
}
.main_voucher_check .text > p:first-child,
.main_voucher .text > p:first-child {
  color: var(--mainClr);
  font-weight: bold;
}
.main_voucher_check > img:first-child,
.main_voucher > img:first-child {
  width: 25rem;
}
.main_voucher_check,
.main_voucher {
  height: max-content;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.main_voucher_check.active ~ .overlay,
.main_voucher.active ~ .overlay,
.main_info.active ~ .overlay {
  opacity: 1;
  pointer-events: all;
  z-index: 9;
}
.overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: 0.3s;
  pointer-events: none;
}
.cloud {
  width: 15rem;
  position: absolute;
}
.cloud_1 {
  top: 55%;
  left: -10%;
}
.cloud_2 {
  top: 30%;
  left: -8rem;
}
.cloud_3 {
  top: 40%;
  right: -8rem;
}
.cloud_4 {
  top: 20%;
  right: -20%;
}
.voucher_code {
  position: relative;
}
.qr_code {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: 7%;
  width: 20%;
}
.cloud.text,
.cloud_5 {
  top: 25rem;
  width: 100%;
  text-align: center;
  font-size: 1.5rem;
}
.cloud_5 {
  top: 15rem;
}
.item {
  bottom: 1rem;
  width: 70%;
  position: absolute;
}

.item2 {
  right: 0rem;
  bottom: 15rem;
  z-index: 1;
}
.item3 {
  right: -3rem;
  bottom: 0;
  z-index: 3;
}
.item1 {
  left: -4rem;
  z-index: 4;
}
.main_spin {
  opacity: 0;
  pointer-events: none;
  transition: 0.3s;
}
.main_spin.active {
  opacity: 1;
  pointer-events: all;
}
.form {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 2rem;
  margin-top: 5rem;
  z-index: 9;
}
.form > img {
  width: 25rem;
}
.form > input {
  background-color: white;
  border: unset;
  outline: unset;
  padding: 1.3rem 2rem;
  font-size: 1.5rem;
  width: 90%;
  box-shadow: 0 0 5px rgba(187, 187, 187, 0.521);
  border-radius: 50rem;
}
.main_voucher_check,
.main_voucher,
.main_info {
  opacity: 0;
  pointer-events: none;
  transition: 0.3s;
  scale: 0;
  transform-origin: 0 0;
}

.main_info .cloud_5 {
  top: 0;
}
.main_info .text {
  top: 10rem;
}
.main_info .item {
  width: 10rem;
}
.check_btn {
  padding: 1rem 2rem;
  background-color: var(--mainClr);
  text-align: center;
  color: white;
  font-size: 1.8rem;
  font-weight: bold;
  border-radius: 50rem;
  margin-top: 2rem;
}
.check_btn.disable {
  background-color: #333333b0;
  opacity: 0.8;
  pointer-events: none;
}
.main_voucher_check.active,
.main_voucher.active,
.main_info.active {
  opacity: 1;
  scale: 1;
  pointer-events: all;
}
.main_spin.active ~ .main_welcome {
  display: none;
}
.main_spin.active ~ .main_game_flip {
  display: none !important;
}
.main_info.active ~ .main_welcome {
  display: none;
}
.main_info.active ~ .main_game_flip {
  display: none !important;
}

.main_spin > .item1 {
  left: 0rem;
}
.main_spin > .item2 {
  bottom: 1rem;
  left: 30%;
}
.main_info > .item2 {
  bottom: -1rem;
  right: 30%;
  width: 12rem;
}
.main_spin > .item3 {
  bottom: 1rem;
  right: 1rem;
}
.main_spin > .item4 {
  bottom: 8rem;
  right: 5rem;
}
.main_spin > .item5 {
  bottom: 8rem;
  left: 10rem;
}
.main_spin > .cloud_4 {
  top: 5%;
  right: -10rem;
}
.main_spin > .cloud_1 {
  bottom: 5%;
  left: -6rem;
}
.main_spin > .item {
  width: 40%;
}
.button {
  position: absolute;
  top: 45%;
  transform: translate(-50%, -50%);
  width: 20rem;
}
.main_spin .button {
  top: 70%;
  z-index: 999;
}
.main_wheel {
  width: 100%;
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}
#spin_btn {
  cursor: pointer;
}
.main_spin .wheel {
  width: 90%;
  transition: transform 3s ease-out;
  transform-origin: center center;
}
.main_spin .wheel_mid {
  width: 25%;
  transform: translateX(1rem);
}
.game_block > img {
  width: calc(24% - 0.5rem);
}
.game_timer {
  height: 1rem;
  width: 100%;
  margin-bottom: 3rem;
  position: relative;
  background-color: rgba(187, 187, 187, 0.521);
  border-radius: 50rem;
}
.timer_bar {
  width: 100%;
  height: 100%;
  background: #333;
  border-radius: 4px;
  overflow: hidden;
  border-radius: 50rem;
}

.timer_bar::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: calc(var(--progress, 1) * 100%);
  background: linear-gradient(90deg, var(--mainClr), #b80000);
  transition: width 0.3s linear;
  border-radius: 50rem;
}

.timer_count {
  position: absolute;
  top: -1.8rem;
  right: 0;
  font-weight: bold;
}
.game_block {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.game_block .card_item {
  flex: 1 0 calc(24% - 0.5rem);
  box-sizing: border-box;
  opacity: 0;
}
.main_game_flip.active .card_item {
  animation: cardPop 0.5s ease-out forwards;
}
.card_item.matched {
  transition: 0.3s;
  opacity: 0 !important;
  pointer-events: none;
}
@keyframes matchPop {
  0% {
    transform: scale(1) rotateY(180deg);
    filter: brightness(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.4) rotateY(180deg);
    filter: brightness(1.5);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotateY(180deg);
    filter: brightness(1);
    opacity: 0;
  }
}

.card_item.matched {
  animation: matchPop 0.5s ease forwards;
}

@keyframes cardPop {
  0% {
    opacity: 0;
  }
  60% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
.main_game_flip {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 1.5rem;
  margin-top: 5rem;
  flex-direction: column;
}
@keyframes cloudFloatLeft {
  from {
    transform: translateX(-100%) scale(1);
    opacity: 0;
  }
  to {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}
@keyframes cloudFloatRight {
  from {
    transform: translateX(100%) scale(1);
    opacity: 0;
  }
  to {
    transform: translateX(0) scale(1);
    opacity: 1;
  }
}

/* Text hiện lên */
@keyframes textAppear {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Item bật nảy */
@keyframes popUp {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  60% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Nút nhấp nháy */
@keyframes blink {
  0%,
  100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.05);
    filter: brightness(1.3);
  }
}

/* Khi màn welcome trượt ra ngoài */
@keyframes slideOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-100%);
  }
}

/* ====== APPLY ANIMATIONS ====== */
.main_welcome {
  animation: fadeIn 0.5s ease forwards;
}

.cloud_1,
.cloud_2 {
  animation: cloudFloatLeft 1.2s ease-out forwards;
}
.cloud_3,
.cloud_4 {
  animation: cloudFloatRight 1.2s ease-out forwards;
}
.cloud_5,
.cloud.text {
  animation: textAppear 1s ease-out 1.3s forwards;
  opacity: 0;
}

.main_welcome .item1,
.main_welcome .item2,
.main_welcome .item3 {
  animation: popUp 0.5s ease-out forwards;
  opacity: 0;
}
.main_welcome .item1 {
  animation-delay: 0.5s;
}
.main_welcome .item2 {
  animation-delay: 0.6s;
}
.main_welcome .item3 {
  animation-delay: 0.8s;
}

.main_welcome .button {
  animation: popUp 0.8s ease-out forwards, blink 1.2s infinite ease-in-out 0.8s;
  /* popUp chạy 0.8s, sau đó blink bắt đầu sau 0.8s */
  cursor: pointer;
  transition: transform 0.3s;
}
.main_info .btn {
  animation: popUp 0.8s ease-out forwards, blink 1.2s infinite ease-in-out 0.8s;
  /* popUp chạy 0.8s, sau đó blink bắt đầu sau 0.8s */
  cursor: pointer;
  transition: transform 0.3s;
}
.button:active {
  transform: scale(0.9);
}
/* popup chung */
@keyframes popUp {
  0% {
    opacity: 0;
    transform: scale(0);
  }
  80% {
    opacity: 1;
    transform: scale(1.1);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.main_spin .button,
/* .main_spin .wheel, */
.main_spin .item1,
.main_spin .item2,
.main_spin .item4,
.main_spin .item5,
.main_spin .item3 {
  opacity: 0; /* bắt đầu ẩn */
  transform: scale(0); /* bắt đầu nhỏ */
}

/* Khi active */
.main_spin.active .button {
  animation: popUp 0.4s ease-out forwards, blink 1.2s infinite ease-in-out 0.8s;
  cursor: pointer;
}

.main_spin.active .item1 {
  animation: popUp 0.35s ease-out forwards;
  animation-delay: 0.5s;
}

.main_spin.active .item2 {
  animation: popUp 0.35s ease-out forwards;
  animation-delay: 0.7s;
}

.main_spin.active .item3 {
  animation: popUp 0.35s ease-out forwards;
  animation-delay: 1s;
}

.main_spin.active .item4 {
  animation: popUp 0.35s ease-out forwards;
  animation-delay: 1.2s;
}

.main_spin.active .item5 {
  animation: popUp 0.35s ease-out forwards;
  animation-delay: 1.5s;
}
